@inject IAntiforgery Xsrf
@Html.AntiForgeryToken()

<script type="text/javascript">
  function kendoToken() {
      return kendo.antiForgeryTokens();
  }
  function mayEdit(data) {
      // console.log(data)
      return data.MayEdit
  }
  function ShowText(txt, btn) {
      alert(txt);
  }

  function ShowGrid(e) {
      var grid = $(this).closest(".k-grid").data("kendoGrid");
      grid.show();
  }
  function ResizeGrid(e) {
      var grid = $(this).closest(".k-grid").data("kendoGrid");
      grid.resize();
  }
  function RebindGrid(e) {
      var grid = $(this).closest(".k-grid").data("kendoGrid");
      grid.rebind();
  }
  function RefreshGrid(e) {
      var grid = $(this).closest(".k-grid").data("kendoGrid");
      grid.dataSource.read();
      grid.refresh();
  }

  function HandleJsonErrors(e) {
      // alert(e.xhr.responseText);
      var msg = $.parseJSON(e.xhr.responseText);
      if (msg) {
          alert("Errors:\n" + msg.join("\n"));
      }
  }
  function HandleAjaxErrors(e) {
      if (e.errors) {
          var message = "Errors:\n";
          $.each(e.errors, function (key, value) {
              if ('errors' in value) {
                  $.each(value.errors, function () {
                      message += this + "\n";
                  });
              }
          });
          alert(message);
      }
  }
</script>
